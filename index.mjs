// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@v0.2.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer-dtype@v0.2.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.2.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-array@v0.2.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.1-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-shape2strides@v0.2.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.1-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-copy-indexed@v0.2.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.1-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.1-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-null@v0.2.1-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-contains@v0.2.1-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-orders@v0.2.1-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@v0.2.1-esm/index.mjs";function w(r,e){switch(e){case"same":return r;case"floating-point":return"float64"===r||"float32"===r||"generic"===r||"complex128"===r||"complex64"===r?r:"float64";case"real floating-point":return"float64"===r||"float32"===r||"generic"===r?r:"float64";case"complex floating-point":return"complex128"===r||"complex64"===r?r:"complex128";default:throw new Error(l("0gz4W",e))}}var x="floating-point";var z=["same","floating-point","real floating-point","complex floating-point"];var E=v(),T=b();function _(v,b){var _,V,k,R;if(V=function(r,e){var t,n,s,i;if(!h(e))return new TypeError(l("0gz4Z",e));for(t=y(r),i=0;i<t.length;i++)if(s=t[i],g(e,s)){if(n=e[s],!c(n)&&!j(n))return new TypeError(l("0gz4a",s,n));r[s]=n}return null}(R={number:null,complex:null,array:null,ndarray:null},v),V)throw V;if(_={policy:x},arguments.length>1&&(V=function(r,e){return h(e)?g(e,"output_dtype_policy")&&(r.policy=e.output_dtype_policy,!u(z,r.policy))?new TypeError(l("0gz4Y","output_dtype_policy",r.policy)):null:new TypeError(l("0gz2V",e))}(_,b),V))throw V;return k=function(r){var d,c,j,y,v;if(e(r)){if(R.number)return R.number(r);throw new TypeError(l("0gz0O"))}if(t(r)){if(R.complex)return R.complex(r);throw new TypeError(l("0gz0P"))}if(j={},arguments.length>1&&(y=function(r,e){return h(e)?g(e,"dtype")&&(r.dtype=e.dtype,!u(T,r.dtype))?new TypeError(l("0gz4X","dtype",r.dtype)):g(e,"order")&&(r.order=e.order,!u(E,r.order))?new TypeError(l("0gz4X","order",r.order)):null:new TypeError(l("0gz2V",e))}(j,arguments[1]),y))throw y;if(n(r)){if(null===R.ndarray)throw new TypeError(l("0gz0Q"));return c=j.dtype||w(r.dtype,_.policy),function(r,e,t,n){var s,i,d;return 0===(s=f(e.shape)).length?(i=o(t,1),d=p(t,i,[],[0],0,n)):(i=o(t,e.length||a(s)),d=p(t,i,s,m(s,n),0,n)),r(e,d),d}(R.ndarray,r,c,j.order||r.order)}if(s(r)){if(null===R.array)throw new TypeError(l("0gz0R"));return d=i(r)||"generic",c=j.dtype||w(d,_.policy),v=o(c,r.length),R.array(r.length,d,r,1,c,v,1),v}throw new TypeError(l("0gz4V",r))},r(k,"assign",(function(r,o){var p,m,a;if(n(r)){if(n(o)){if(p=r.shape,m=o.shape,p.length===m.length){for(a=0;a<p.length;a++)if(p[a]!==m[a]){r=d(r,m);break}}else r=d(r,m);return R.ndarray(r,o),o}throw new TypeError(l("0gz0S"))}if(s(r)){if(s(o)){if(o.length!==r.length)throw new RangeError(l("0gz0T"));return R.array(r.length,i(r)||"generic",r,1,i(o)||"generic",o,1),o}throw new TypeError(l("0gz0U"))}if(e(r))throw new TypeError(l("0gz0V"));if(t(r))throw new TypeError(l("0gz0W"));throw new TypeError(l("0gz4V",r))})),k}export{_ as default};
//# sourceMappingURL=index.mjs.map
