// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer-dtype@v0.3.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.3.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-array@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-shape2strides@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-copy-indexed@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-null@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import{factory as u}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-orders@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtypes@v0.3.0-esm/index.mjs";function w(r,e){switch(e){case"same":return r;case"floating-point":return"float64"===r||"float32"===r||"generic"===r||"complex128"===r||"complex64"===r?r:"float64";case"real floating-point":return"float64"===r||"float32"===r||"generic"===r?r:"float64";case"complex floating-point":return"complex128"===r||"complex64"===r?r:"complex128";default:throw new Error(l("0gz4W",e))}}var x="floating-point";var z=u(["same","floating-point","real floating-point","complex floating-point"]);var E=u(v()),T=u(b());function _(u,v){var b,_,V,k;if(_=function(r,e){var t,n,s,i;if(!h(e))return new TypeError(l("0gz4Z",e));for(t=j(r),i=0;i<t.length;i++)if(s=t[i],g(e,s)){if(n=e[s],!c(n)&&!y(n))return new TypeError(l("0gz4a",s,n));r[s]=n}return null}(k={number:null,complex:null,array:null,ndarray:null},u),_)throw _;if(b={policy:x},arguments.length>1&&(_=function(r,e){return h(e)?g(e,"output_dtype_policy")&&(r.policy=e.output_dtype_policy,!z(r.policy))?new TypeError(l("0gz4Y","output_dtype_policy",r.policy)):null:new TypeError(l("0gz2V",e))}(b,v),_))throw _;return V=function(r){var d,c,y,j,u;if(e(r)){if(k.number)return k.number(r);throw new TypeError(l("0gz0O"))}if(t(r)){if(k.complex)return k.complex(r);throw new TypeError(l("0gz0P"))}if(y={},arguments.length>1&&(j=function(r,e){return h(e)?g(e,"dtype")&&(r.dtype=e.dtype,!T(r.dtype))?new TypeError(l("0gz4X","dtype",r.dtype)):g(e,"order")&&(r.order=e.order,!E(r.order))?new TypeError(l("0gz4X","order",r.order)):null:new TypeError(l("0gz2V",e))}(y,arguments[1]),j))throw j;if(n(r)){if(null===k.ndarray)throw new TypeError(l("0gz0Q"));return c=y.dtype||w(r.dtype,b.policy),function(r,e,t,n){var s,i,d;return 0===(s=f(e.shape)).length?(i=o(t,1),d=p(t,i,[],[0],0,n)):(i=o(t,e.length||a(s)),d=p(t,i,s,m(s,n),0,n)),r(e,d),d}(k.ndarray,r,c,y.order||r.order)}if(s(r)){if(null===k.array)throw new TypeError(l("0gz0R"));return d=i(r)||"generic",c=y.dtype||w(d,b.policy),u=o(c,r.length),k.array(r.length,d,r,1,c,u,1),u}throw new TypeError(l("0gz4V",r))},r(V,"assign",(function(r,o){var p,m,a;if(n(r)){if(n(o)){if(p=r.shape,m=o.shape,p.length===m.length){for(a=0;a<p.length;a++)if(p[a]!==m[a]){r=d(r,m);break}}else r=d(r,m);return k.ndarray(r,o),o}throw new TypeError(l("0gz0S"))}if(s(r)){if(s(o)){if(o.length!==r.length)throw new RangeError(l("0gz0T"));return k.array(r.length,i(r)||"generic",r,1,i(o)||"generic",o,1),o}throw new TypeError(l("0gz0U"))}if(e(r))throw new TypeError(l("0gz0V"));if(t(r))throw new TypeError(l("0gz0W"));throw new TypeError(l("0gz4V",r))})),V}export{_ as default};
//# sourceMappingURL=index.mjs.map
